<?xml version="1.0" encoding="UTF-8"?>
<!--
  ì—­í• : ì¹´ë“œ 2ìž¥ ì§€ê¸‰/ë¦¬ë¡¤/ì„ íƒ ì™„ë£Œ (20ì´ˆ ì œí•œ)
  í•µì‹¬ê¸°ëŠ¥: ì´ˆê¸° 2ìž¥ ì§€ê¸‰ / ë¦¬ë¡¤(40pt) / ì‹œê°„ ë§Œë£Œ ìžë™ í™•ì • / ì„ íƒ ê²°ê³¼ ì „ì†¡
-->

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.omokpang.controller.cards.CardSelectController"
            prefWidth="800" prefHeight="800">

    <!-- â­ ë°°ê²½: ì „ì²´ í™”ë©´ ê½‰ ì±„ì›€ -->
    <ImageView fitWidth="800" fitHeight="800" preserveRatio="false"
               AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
               AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0">
        <image>
            <Image url="/images/bg_darkmode.png"/>
        </image>
    </ImageView>

    <!-- â­ ì¤‘ì•™ ì „ì²´ ë ˆì´ì•„ì›ƒ (beforeBox & afterBox í¬í•¨) -->
    <VBox spacing="32" alignment="TOP_CENTER"
          AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
          AnchorPane.topAnchor="80" AnchorPane.bottomAnchor="0">

        <!-- ìƒë‹¨ íƒ€ì´ë¨¸ (ì„¼í„° ì •ë ¬) -->
        <Label fx:id="timerLabel" text="20ì´ˆ"
               style="-fx-font-size: 34px; -fx-text-fill:white; -fx-font-weight:900;" />

        <!-- ðŸŒŸ 1ë‹¨ê³„: ì¹´ë“œ ë°›ê¸° í™”ë©´ -->
        <VBox fx:id="beforeBox"
              spacing="22"
              alignment="CENTER">

            <Label text="ëžœë¤ìœ¼ë¡œ ì¹´ë“œ 2ìž¥ì„ ë¶€ì—¬ë°›ìŠµë‹ˆë‹¤."
                   style="-fx-text-fill:white; -fx-font-size:28; -fx-font-weight:800;" />

            <Label text="40í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ëžœë¤ìœ¼ë¡œ ë‹¤ë¥¸ ì¹´ë“œë¡œ ë³€ê²½ê°€ëŠ¥"
                   style="-fx-text-fill:#cccccc; -fx-font-size:15;" />

            <Label text="ì •í•´ì§„ 20ì´ˆê°€ ì§€ë‚˜ë©´ ì¹´ë“œ ì™„ë£Œ ë²„íŠ¼ì„ ì„ íƒ ì•ˆí•´ë„ ê²Œìž„ìœ¼ë¡œ ë°”ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤."
                   style="-fx-text-fill:#cccccc; -fx-font-size:14;" />

            <!-- ì¹´ë“œ 2ê°œ -->
            <HBox spacing="60" alignment="CENTER">
                <ImageView fitWidth="150" preserveRatio="true">
                    <image>
                        <Image url="/images/cards/unknown_card.png"/>
                    </image>
                </ImageView>
                <ImageView fitWidth="150" preserveRatio="true">
                    <image>
                        <Image url="/images/cards/unknown_card.png"/>
                    </image>
                </ImageView>
            </HBox>

            <Button fx:id="receiveBtn"
                    text="ì¹´ë“œ ë°›ê¸°"
                    onAction="#handleReceive"
                    style="-fx-background-color: linear-gradient(#d9d9a0, #8c8c52);
                           -fx-text-fill:black; -fx-font-size:22; -fx-font-weight:800;
                           -fx-background-radius:12; -fx-padding:10 26;"/>
        </VBox>

        <!-- ðŸŒŸ 2ë‹¨ê³„: ì¹´ë“œ í™•ì¸ í™”ë©´ -->
        <VBox fx:id="afterBox"
              visible="false"
              spacing="26"
              alignment="CENTER">

            <Label text="ëžœë¤ìœ¼ë¡œ ì¹´ë“œ 2ìž¥ì„ ë¶€ì—¬ë°›ìŠµë‹ˆë‹¤."
                   style="-fx-text-fill:white; -fx-font-size:28; -fx-font-weight:800;" />

            <Label text="40í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ëžœë¤ìœ¼ë¡œ ë‹¤ë¥¸ ì¹´ë“œë¡œ ë³€ê²½ê°€ëŠ¥"
                   style="-fx-text-fill:#cccccc; -fx-font-size:15;" />

            <Label text="ì •í•´ì§„ 20ì´ˆê°€ ì§€ë‚˜ë©´ ì¹´ë“œ ì™„ë£Œ ë²„íŠ¼ì„ ì„ íƒ ì•ˆí•´ë„ ê²Œìž„ìœ¼ë¡œ ë°”ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤."
                   style="-fx-text-fill:#cccccc; -fx-font-size:14;" />

            <!-- ì¹´ë“œ 2ê°œ + ë¦¬ë¡¤ ë²„íŠ¼ -->
            <HBox spacing="80" alignment="CENTER">

                <!-- ì¹´ë“œ 1 -->
                <VBox spacing="10" alignment="CENTER">
                    <ImageView fx:id="cardImage1" fitWidth="150" preserveRatio="true"/>
                    <Button text="â†»"
                            fx:id="rerollBtn1"
                            onAction="#handleReroll1"
                            style="-fx-background-color: rgba(255,255,255,0.2);
                                   -fx-text-fill:white; -fx-font-size:14; -fx-font-weight:700;
                                   -fx-background-radius:20; -fx-padding:6 16;" />
                    <Label text="â˜… 40 ì°¨ê°"
                           style="-fx-text-fill:white; -fx-font-size:14; -fx-font-weight:700;" />
                </VBox>

                <!-- ì¹´ë“œ 2 -->
                <VBox spacing="10" alignment="CENTER">
                    <ImageView fx:id="cardImage2" fitWidth="150" preserveRatio="true"/>
                    <Button text="â†»"
                            fx:id="rerollBtn2"
                            onAction="#handleReroll2"
                            style="-fx-background-color: rgba(255,255,255,0.2);
                                   -fx-text-fill:white; -fx-font-size:14; -fx-font-weight:700;
                                   -fx-background-radius:20; -fx-padding:6 16;" />
                    <Label text="â˜… 40 ì°¨ê°"
                           style="-fx-text-fill:white; -fx-font-size:14; -fx-font-weight:700;" />
                </VBox>

            </HBox>

            <Button fx:id="completeBtn"
                    text="ì¹´ë“œ ì„ íƒ ì™„ë£Œ"
                    onAction="#handleComplete"
                    style="-fx-background-color: linear-gradient(#d9d9a0, #8c8c52);
                           -fx-text-fill:black; -fx-font-size:22; -fx-font-weight:800;
                           -fx-background-radius:12; -fx-padding:10 26;"/>
        </VBox>

    </VBox>

    <!-- â­ í•˜ë‹¨ ì¹´ë“œ ì¢…ë¥˜ ë²„íŠ¼ (ê³ ì •) -->
    <HBox spacing="6"
          alignment="CENTER_LEFT"
          AnchorPane.leftAnchor="20"
          AnchorPane.bottomAnchor="20">

        <Label text="â˜…"
               style="-fx-text-fill: #ffd863; -fx-font-size: 20; -fx-font-weight:900;" />

        <Label fx:id="pointLabel"
               text="0"
               style="-fx-text-fill:white; -fx-font-size:16; -fx-font-weight:700;" />

        <Button onAction="#handleOpenCatalog"
                style="-fx-background-color: transparent; -fx-padding: 0;">
            <graphic>
                <Label text="ì¹´ë“œ ì¢…ë¥˜"
                       style="-fx-text-fill:white; -fx-font-size:16; -fx-font-weight:700;" />
            </graphic>
        </Button>
    </HBox>

</AnchorPane>